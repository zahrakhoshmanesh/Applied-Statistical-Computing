<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
  <head>
    <title>Intro to R</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../extras/x-theme.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# Intro to R

---





## Outline

- R is a calculator

- five commands to look at objects

- extracting pieces

- a first glimpse at data

---
## The R language

- Learning a new language: grammar, vocabulary

- Loading, examining, summarizing data

- Creating data

- Getting help

- Miscellaneous useful stuff

---
background-image: url("images/language.png")
background-size: 900px
background-position: 0% 90%

---
## Grammar

- Basic algebra is the same as calculator/mathematics

- explicit operators: `2*x` not `2x`,  `2^p` instead of `2p`

- Applying a function is similar 

- Making a variable, use `&lt;-` or `=`

- Everything in R is a vector

---
## Examples

.pull-left[
**Math** 

##### Assignments `\(x = \frac{2}{3}\)`

##### Functions `\(\sqrt{x}\)`

##### Vectors `\(y = \left( 1, 2, 3, 5\right)^t\)`  

##### Indices `\(y_1\)` 

##### Mathematical Operators `\(\sum_{i=1}^{4} y\)`

##### `\(2y\)`

]
.pull-right[
**Code**

#### `x &lt;- 2/3`

#### `sqrt(x)`

#### `y &lt;- c(1,2,3,5)`

#### `y[1]`

#### `sum(y)`

#### `2*y`

]

---
class: inverse
## Your Turn (5 min) 


- Introduce vector `\(x\)` defined as `\(x = (4, 1, 3, 9)^t\)`

- Introduce vector `\(y\)` defined as  `\(y = (1, 2, 3, 5)^t\)`
- Calculate the Euclidean distance between the two vectors `\(x\)` and `\(y\)`, defined as `$$d = \sqrt{\sum_{i=1}^4 (x_i - y_i)^2}$$`



---
## Vocabulary 

- What verbs (=functions) do you need to know?

- Loading data

- Accessing parts of things

- Statistical summaries

- ...

---
## R Reference Card

- Download the R Reference Card from http://cran.r-project.org/doc/contrib/Short-refcard.pdf

- Open/Print it so that you can glance at it while working


---
## Very basics

#### Getting help within R

If you want to know what a specific `command` is doing:

```
?command
help(command) 
help.search(command)
```

#### Getting out

```
q()
```
Quits out of the console

---
## Loading class data

- Some R packages have in-built datasets

- For this class, there is an R package available on github 

- Installing/Updating `classdata` package (once every so often):


```r
devtools::install_github("haleyjeppson/classdata")
```

```
## Skipping install of 'classdata' from a github remote, the SHA1 (f07d5f48) has not changed since last install.
##   Use `force = TRUE` to force installation
```

- Make the data available (every time you start R):


```r
library(classdata)
```

---
class: inverse
## Your Turn (5 min)

Install the package `classdata` on your machine  


Make the package active in your current R session:

```
library(classdata)
```

Check the R help on the dataset `fbi`&lt;br&gt;

What happens if you just type in the name of the dataset?

---
## Inspecting objects

for object `x`, we can try out the following commands:

- `x`

- `head(x)`

- `summary(x)`

- `str(x)`

- `dim(x)`

&lt;br/&gt;

Try these commands out for yourself on the `fbi` data.  

---
## The fbi data

- `fbi` is a data frame with columns (variables) and rows (records)


```r
str(fbi)
```

```
## 'data.frame':	23256 obs. of  7 variables:
##  $ State        : chr  "Alabama" "Alabama" "Alabama" "Alabama" ...
##  $ Abb          : chr  "AL" "AL" "AL" "AL" ...
##  $ Year         : int  1961 1962 1963 1964 1965 1966 1967 1968 1969 1970 ...
##  $ Population   : int  3302000 3358000 3347000 3407000 3462000 3517000 3540000 3566000 3531000 3444165 ...
##  $ Type         : Factor w/ 8 levels "Aggravated.assault",..: 6 6 6 6 6 6 6 6 6 6 ...
##  $ Count        : int  427 316 340 316 395 384 415 421 485 404 ...
##  $ Violent.crime: logi  TRUE TRUE TRUE TRUE TRUE TRUE ...
```

---
## Extracting parts of objects

For object `x`, we can extract parts in the following manner:

```
x$variable
x[, "variable"]
x[rows, columns]
x[1:5, 2:3]
x[c(1,5,6), c("State","Year")]
x$variable[rows]
```
`rows` and `columns` are vectors of indices.

&lt;br/&gt;

Try these commands out for yourself on the `fbi` data.

---
## Statistical summaries

Elements of the five point summary: 

`mean, median, min, max, quartiles`

&lt;br/&gt;

Other summary statistics:

`range, sd, var`

&lt;br/&gt;

Summaries of two variables:

`cor, cov`  

---
class: inverse
## Your turn

- Look at the first 10 data records of the `fbi` data

- Compute mean and standard deviation for the number of counts. Why do you get NAs? (read `?NA`)

- Advanced:  Read `?mean` and `?sd`, and fix missing value problem

---
class:inverse
## Your turn - practice to ask questions

Write down questions that you could answer with this data 4 minutes by yourself, then pair up for another 3 minutes, and we'll write ideas on the board




The types of crimes are defined on the UCR website, see http://www.ucrdatatool.gov/offenses.cfm
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": false,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();</script>

<script>
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
